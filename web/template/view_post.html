<!DOCTYPE html>
<head>
    <title>forum</title>
</head>
<body>
    <p>{{.Post.Title}}</p>
    <p>{{.Post.Content}}</p>
    <p>Author: {{.Post.AuthorUsername}}</p>
    <form action="/post/rate" method="POST">
        <input type="hidden" name="post_id" value="{{.PostID}}">
        <input type="hidden" name="type" value="like">
        <input type="submit" value="likes: {{.Post.Likes}}">
    </form>
    <form action="/post/rate" method="POST">
        <input type="hidden" name="post_id" value="{{.PostID}}">
        <input type="hidden" name="type" value="dislike">
        <input type="submit" value="dislikes: {{.Post.Dislikes}}">
    </form>
    <p>Comments:</p>
    {{range $comment := .Post.Comments}}
    <p>Author: {{$comment.AuthorUsername}} {{$comment.Content}}</p>
    <form action="/comment/rate" method="POST">
        <input type="hidden" name="post_id" value="{{.PostID}}">
        <input type="hidden" name="comment_id" value="{{$comment.ID}}">
        <input type="hidden" name="type" value="like">
        <input type="submit" value="likes: {{.Likes}}">
    </form>
    <form action="/comment/rate" method="POST">
        <input type="hidden" name="post_id" value="{{.PostID}}">
        <input type="hidden" name="comment_id" value="{{$comment.ID}}">
        <input type="hidden" name="type" value="dislike">
        <input type="submit" value="dislikes: {{.Dislikes}}">
    </form>
    {{end}}
    <form action="/comment/create" method="POST">
        <input type="hidden" name="post_id" value="{{.PostID}}">
        <textarea name="content"></textarea><br>
        <input type="submit" value="comment">
    </form>
</body>